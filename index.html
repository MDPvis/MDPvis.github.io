<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MDPVis</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.css" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <!-- Contextual panel that appears after hovering a chart. See context_panel.js -->
    <div class="context-panel" style="position:absolute;z-index:1;display:none">
      <div class="context-panel-panel panel panel-primary">
        <div class="minimized-context-panel" style="display:none">
          &nbsp;
          <button type="button" class="close maximize-context-panel" aria-label="Expand">
            <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>
          </button>
          &nbsp;
        </div>
        <div class="maximized-context-panel">
          <div class="row">
            <div class="col-lg-3">
              <button type="button" class="btn btn-sm btn-warning remove-brush">
                Remove Brush
              </button>
            </div>
            <div class="col-lg-4">
              <p class="context-panel-text"></p>
            </div>
            <div class="col-lg-4">
              <p class="context-panel-stats"></p>
            </div>
            <div class="col-lg-1">
              <button type="button" class="close minimize-context-panel" aria-label="Close">
                <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid post-modal-show" style="display:none;">
      <div class="row">
        <div class="col-sm-3">
          <h2>
            <span class="glyphicon glyphicon-usd"></span>
            Reward Specification
          </h2>
          <p class="comparison-warning" style="display:none;">Showing differences in values.</p>
          <p class="help-message"></p>
          <div id="reward-buttons" class="pad-left">
          </div>
        </div>
        <div class="col-sm-3">
          <h2>
            <span class="glyphicon glyphicon-cog"></span>
            Model Modifiers
          </h2>
          <p class="comparison-warning" style="display:none;">Showing differences in values.</p>
          <p class="help-message"></p>
          <div id="transition-buttons" class="pad-left">
          </div>
        </div>
        <div class="col-sm-3">
          <h2>
            <span class="glyphicon glyphicon-random"></span>
            Policy Definition
          </h2>
          <p class="comparison-warning" style="display:none;">Showing differences in values.</p>
          <p class="help-message"></p>
          <div id="policy-buttons" class="pad-left">
          </div>
          <button style="display:none;" class="btn btn-lg btn-success btn-block policy-is-optimized-button" disabled>
              <span class="glyphicon glyphicon-ok"></span>
              Policy was Optimized
          </button>
          <button style="display:none;" class="btn btn-lg btn-danger btn-block optimize-policy-button">
              <span class="glyphicon glyphicon-refresh"></span>
              Optimize a New Policy
          </button>
          <button style="display:none;" class="btn btn-lg btn-warning btn-block policy-is-optimizing-button" disabled>
              <span class="glyphicon glyphicon-refresh spinning"></span>
              Policy is Optimizing...
          </button>
        </div>
        <div class="col-sm-3">
          <h2>
            <span class="glyphicon glyphicon-list"></span>
            Exploration History
          </h2>
          <p class="help-message"></p>
          <div id="history-button-controls">
            <button style="display:none;" class="btn btn-lg btn-success btn-block rollouts-are-current-button" disabled>
                <span class="glyphicon glyphicon-ok"></span>
                Rollouts are Current
            </button>
            <button style="display:none;" class="btn btn-lg btn-danger btn-block generate-rollouts-button">
                <span class="glyphicon glyphicon-refresh"></span>
                Generate Rollouts
            </button>
            <button class="btn btn-lg btn-warning btn-block rollouts-are-generating-button" disabled>
                <span class="glyphicon glyphicon-refresh spinning"></span>
                Rollouts are Generating...
            </button>
            <br />
            <div id="history-buttons" class="pad-left">
            </div>
          </div>
        </div>
      </div>

      <div class="row post-getrollouts-show" style="display:none;">
        <div id="messages"></div>
        <div class="col-xs-12">
          <h2>
            <span class="glyphicon glyphicon-equalizer"></span>
            State Distributions for a Fixed Time Step
          </h2>
          <p class="help-message"></p>
          <div id="active-count" style="z-index:10;">
            <div class="panel panel-primary">
              <p class="comparison-warning" style="display:none;">Showing differences in values.</p>
              <p class="no-data-warning" style="display:none;">
                All data is filtered. Visualizations will stop updating until
                you return to the sampled space.
              </p>
              <p>
                &nbsp;
                <span class="counts displayed-state-count">0</span>
                rollouts displayed of
                <span class="counts total-state-count">0</span>
                &nbsp;
              </p>
            </div>
          </div>
          <div class="initial-states"></div>
        </div>
      </div>

      <div class="row post-getrollouts-show" style="display:none;">
        <div class="col-xs-12">
          <h2>
            <span class="glyphicon glyphicon-indent-left"></span>
            State Development
          </h2>
          <p class="help-message">
            Percentiles:
            <span class="fan_percentile100">&nbsp;100th&nbsp;</span> &middot;
            <span class="fan_percentile90">&nbsp;90th&nbsp;</span> &middot;
            <span class="fan_percentile80">&nbsp;80th&nbsp;</span> &middot;
            <span class="fan_percentile70">&nbsp;70th&nbsp;</span> &middot;
            <span class="fan_percentile60">&nbsp;60th&nbsp;</span>
            <span class="glyphicon glyphicon-arrow-left"></span>
            center
            <span class="glyphicon glyphicon-arrow-right"></span>
            <span class="fan_percentile40">&nbsp;40th&nbsp;</span> &middot;
            <span class="fan_percentile30">&nbsp;30th&nbsp;</span> &middot;
            <span class="fan_percentile20">&nbsp;20th&nbsp;</span> &middot;
            <span class="fan_percentile10">&nbsp;10th&nbsp;</span> &middot;
            <span class="fan_percentile0">&nbsp;&nbsp;0th&nbsp;</span>
          </p>
        </div>
      </div>
      <div class="row post-getrollouts-show" style="display:none;">
        <div class="col-xs-12 line-charts">
        </div>
      </div>
      <div class="row post-getrollouts-show" style="display:none;">
        <div class="col-xs-12">
          <h2><span class="glyphicon glyphicon-picture"></span> State Detail </h2>
          <p class="help-message"></p>
        </div>
      </div>
      <div class="row images-row post-getrollouts-show" style="display:none;">
        <div class="col-m-3">
          <div class="statistics-area">
            Filter the rollouts until individual lines appear in the fan chart,
            then click a line to show visualizations specific to the current
            domain.
          </div>
        </div>
      </div>
    </div><!-- /container -->

    <!-- Modals -->
    <!-- Server Selection Modal -->
    <div class="modal fade" id="serverSelectionModal"
      data-backdrop="static" data-keyboard="false"
      tabindex="-1" role="dialog"
      aria-labelledby="warningModalLabel"
      aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"
              data-simulator-path="http://72.11.240.133:5000/">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="serverSelectionModalLabel">MDPvis: Select a Server</h4>
          </div>
          <div class="modal-body">
            <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="false">
              <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingOne">
                  <h4 class="panel-title">
                    <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      <span class="glyphicon glyphicon-fire" aria-hidden="true" style="color:red;"></span>
                      Wildfire Simulator
                    </a>
                  </h4>
                </div>
                <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                  <div class="panel-body">
                    <p>
                    Connect to our simplified wildfire suppression simulator and optimizer. In this domain,
                    rewards are given by tree harvest volumes and costs are incurred by spending money
                    on wildfire suppression. Letting a wildfire burn may reduce the harvestable timber,
                    but it will also reduce fuels on the landscape and fire suppression expenses. This is
                    a very challenging large state MDP.
                    </p>
                    <button type="button" class="btn btn-default" data-dismiss="modal"
                      data-simulator-path="http://72.11.240.133:5000/">
                      <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                      Open Connection to Simulator
                    </button>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingTwo">
                  <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                      <span class="glyphicon glyphicon-save" aria-hidden="true"> Localhost
                    </a>
                  </h4>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                  <div class="panel-body">
                    <p>
                      If you start a server running on your computer that supports
                      <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS">CORS</a>,
                      you can connect this visualization to your domain without hosting the visualization code.
                      The server examples we include in
                      <a href="https://github.com/MDPvis/MDPvis.github.io">MDPvis's code base</a> include CORS
                      by default.
                    </p>
                    <p>
                      <button type="button" class="btn btn-default" data-dismiss="modal"
                        data-simulator-path="http://localhost:8938">
                        <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                        Open Connection to localhost:8938
                      </button>
                    </p>
                    <p>
                      <button type="button" class="btn btn-default" data-dismiss="modal"
                        data-simulator-path="http://localhost:8000">
                        <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                        Open Connection to localhost:8000
                      </button>
                    </p>
                    <p>
                      <button type="button" class="btn btn-default" data-dismiss="modal"
                        data-simulator-path="http://localhost:80">
                        <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                        Open Connection to localhost:80
                      </button>
                    </p>
                    <p>
                      <button type="button" class="btn btn-default" data-dismiss="modal"
                        data-simulator-path="http://localhost:3000">
                        <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                        Open Connection to localhost:3000
                      </button>
                    </p>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingThree">
                  <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                      <span class="glyphicon glyphicon-plus" aria-hidden="true"> Your MDP Simulator Here
                    </a>
                  </h4>
                </div>
                <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                  <div class="panel-body">
                    <p>
                      If you make a server publicly accessible, please let us know so we can list it here.
                      If you need help integrating your server, please
                      <a
                        target="_blank"
                        href="https://github.com/MDPvis/MDPvis.github.io/issues/new?title=Simulator%20Integration%20to%20Help">
                        open an issue
                      </a>
                      so we can help.
                      We have documentation in the
                      <a href="https://github.com/MDPvis/MDPvis.github.io/blob/master/README.md">
                        README.
                      </a>
                    </p>
                    <p>
                      <button type="button" class="btn btn-default"
                        data-open-link="https://github.com/MDPvis/MDPvis.github.io/issues/new?title=Add%20Simulator%20to%20List">
                        <span class="glyphicon glyphicon-share-alt" aria-hidden="true"></span>
                        Your Server Here
                      </button>
                    </p>
                  </div>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="headingFour">
                  <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                      <span class="glyphicon glyphicon-info-sign" aria-hidden="true"> About
                    </a>
                  </h4>
                </div>
                <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
                  <div class="panel-body">
                    <p>
                      This visualization allows you to explore a
                      <a href="https://en.wikipedia.org/wiki/Markov_decision_process">
                        Markovian Decision Process
                      </a>
                      (MDP). The controls provide means of exploring a
                      changing reward, transition, and policy functions towards
                      discovering bugs and understanding the system.
                    </p>
                    <p class="text-center">
                      <a href="https://github.com/MDPvis/MDPvis.github.io">README</a> &middot;
                      <a href="https://github.com/MDPvis/MDPvis.github.io">Fork Me on GitHub</a> &middot;
                      <a href="mailto:mailto:mdpvis.implementation@seanbmcgregor.com?Subject=Seeking%20Information%20about%20MDPvis&Body=Greetings%20Sean%2C%0A%0A%28%28%28don%27t%20hesitate%20to%20contact%20me%29%29%29%0A%0AI%20was%20using%20MDPvis%20and%20have%20the%20following%20question/comment%3A%0A%0A%28%28%28PLEASE%20ENTER%20INFORMATION%20HERE%29%29%29"
                      target="_blank">
                        Get Help
                      </a>
                    </p>
                  </div>
                </div>
              </div>
            </div><!-- /panel-group -->
          </div>
        </div>
      </div>
    </div>

    <script src="js/vendor/seedrandom.js"></script>
    <script src="js/vendor/jquery.min.js"></script>
    <script src="js/vendor/jquery-deparam.js"></script>
    <script src="js/vendor/jquery.autosize.input.js"></script>
    <script src="js/vendor/d3.v3.min.js"></script>
    <script src="js/data.js"></script>
    <script src="js/tooltip.js"></script>
    <script src="js/charts/chart.js"></script>
    <script src="js/percentiles.js"></script>
    <script src="js/index.js"></script>
    <script src="js/charts/barchart.js"></script>
    <script src="js/charts/fanchart.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="js/context_panel.js"></script>
  </body>
</html>
